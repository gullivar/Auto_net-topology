# PoC System Development Prompts

---

### 1단계 프롬프트: 기본 토폴로지 및 Zone 구성

이 프롬프트는 Cytoscape.js 환경을 세팅하고, 가장 중요한 'Zone(Compound Node)' 개념을 적용합니다.

**[프롬프트 복사]**
```markdown
나는 웹 기반 네트워크 토폴로지 PoC를 개발하려고 해. 
다음 요구사항에 맞춰 HTML, CSS, JavaScript 코드를 작성해줘.

1. **라이브러리 설정:** 
   - `cytoscape.js`와 레이아웃 확장을 위한 `cytoscape-fcose.js`를 CDN에서 불러와서 사용해줘.
   - 나중에 실제 개발에서는 로컬 파일로 대체할 것이니 구조를 잡아줘.

2. **데이터 구조 (Mock Data):**
   - Malcolm에서 데이터를 받았다고 가정한 `mockData` 변수를 만들어줘.
   - 데이터는 `nodes`와 `edges`로 구성돼.
   - **핵심:** 'Zone'을 표현하기 위해 Compound Node(부모 노드) 기능을 사용해야 해.
     - Zone A (Engine Room), Zone B (Bridge), Zone C (Server Room) 3개의 부모 노드를 정의해.
     - 각 Zone 안에는 2~3개의 자식 노드(PC, PLC, Switch 등)가 `parent` 속성으로 연결되어야 해.

3. **시각화 (Cytoscape 설정):**
   - 전체 화면에 네트워크 맵을 그려줘.
   - **레이아웃:** `fcose` 레이아웃을 사용하여 Zone 별로 박스가 그려지고 그 안에 노드들이 물리 엔진으로 자동 정렬되게 해줘.
   - **스타일:**
     - Zone(부모 노드)은 연한 배경색과 점선 테두리로 구역임을 표시해.
     - 일반 노드(자식 노드)는 장비 유형에 따라 다른 색상이나 모양을 가져야 해.
     - Edge(선)는 `taxi` 또는 `bezier` 커브 스타일을 적용해줘.
```

---

### 2단계 프롬프트: 상세 정보 및 차트(Chart.js) 연동

토폴로지가 그려진 후, 클릭 이벤트와 차트 라이브러리를 붙이는 단계입니다.

**[프롬프트 복사]**
```markdown
1단계에서 만든 코드에 기능을 추가할 거야.
노드를 클릭했을 때 상세 정보를 보여주는 'Detail Panel'을 우측에 구현해줘.

1. **UI 추가:**
   - 화면 우측에 숨겨져 있다가 노드 클릭 시 나타나는 사이드바(Sidebar)를 HTML/CSS로 만들어줘.

2. **차트 라이브러리:**
   - `Chart.js`를 CDN으로 추가해줘.

3. **이벤트 로직:**
   - Cytoscape 노드에 `tap` (클릭) 이벤트를 걸어줘.
   - 노드를 클릭하면 해당 노드의 `data` 속성에 있는 정보를 사이드바에 표시해.
     - 표시 항목: 장비 아이콘, 장비 유형(Type), IP 주소, 활용 목적.
   - **시계열 차트:** 사이드바 하단에 'CPU Usage', 'Memory Usage'를 보여주는 Line Chart 2개를 그려줘. 데이터는 클릭할 때마다 랜덤하게 생성된 더미 데이터를 사용해서 그려줘.

4. **예외 처리:**
   - 배경(바탕)을 클릭하면 사이드바가 다시 닫히게 해줘.
```

---

### 3단계 프롬프트: 동적 업데이트 및 상태 모니터링 시뮬레이션

가장 중요한 '실시간 반영'과 '장애 감지' 기능을 시뮬레이션하는 로직입니다.

**[프롬프트 복사]**
```markdown
마지막으로, 네트워크가 살아있는 것처럼 보이게 하는 시뮬레이션 로직을 JavaScript에 추가해줘.

1. **신규 노드 자동 감지 시뮬레이션:**
   - `setInterval`을 사용하여 10초마다 `mockData`에 새로운 노드(예: 'New Laptop')가 Zone A에 추가되는 상황을 만들어줘.
   - 중요한 건 화면 전체를 새로고침(Reload)하지 말고, `cy.add()` 함수를 사용하여 자연스럽게 토폴로지에 노드가 뿅 하고 나타나고 레이아웃이 살짝 재정렬되게 해줘.

2. **상태 체크(Ping) 시뮬레이션:**
   - 5초마다 랜덤한 노드 하나를 골라 상태가 'Down' 되는 것을 시뮬레이션해줘.
   - 상태가 'Down'이 되면 해당 노드의 배경색을 빨간색(Red)으로 바꾸고, 테두리를 굵게 만들어줘 (`cy.style()` 또는 클래스 변경 활용).
   - 5초 뒤에는 다시 'Up' 상태(원래 색상)로 돌아오게 해줘.

3. **검증용 버튼:**
   - 화면 구석에 [Add Node Test], [Ping Fail Test] 버튼을 만들어서, 이 버튼을 누르면 위 로직이 즉시 실행되어 내가 시연할 때 보여줄 수 있게 해줘.
```

---

### 💡 개발 팁 (PoC 시스템 개발 시 참고)

1.  **CDN 사용 권장:** PoC 단계에서는 `npm install` 보다 CDN(`<script src="...">`) 방식을 사용하는 것이 코드 한 장으로 실행 가능해서 훨씬 빠르고 수정하기 쉽습니다. (개발 완료 후 로컬 라이브러리로 바꾸는 건 10분이면 됩니다.)
2.  **`fcose` 레이아웃 필수:** 일반 `cose`보다 `fcose`가 Zone(Compound Node)을 훨씬 예쁘게 정리해줍니다. `cose`보다는 `cytoscape-fcose`를 쓰새요.
3.  **데이터 무결성:** 프롬프트 1단계에서 데이터 구조(`data: { id: 'child', parent: 'zone_a' }`)가 정확히 나오는지 꼭 확인하세요. 이 구조가 깨지면 Zone이 안 그려집니다.
